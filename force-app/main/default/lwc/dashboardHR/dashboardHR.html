<template>

    <lightning-card>
        <div class="header">
            <h1>AppyNtern</h1>
            <span>
                <lightning-input class="Search" type="search" name="Search" placeholder="Search here"
                    id="searchBox"></lightning-input>
            </span>
        </div>
        <!-- grid 1 -->
        <div class="slds-grid slds-wrap">
            <div class="slds-col slds-large-size_3-of-12 slds-medium-size_4-of-12 slds-size_3-of-12">
                <div class="sidebar ">
                    <ul class="Links">
                        <li class="active">
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowDashboard}>Dashboard</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowInternshipListings}>Internships Listings</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowJobPostings}>Job Postings</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowApplicationManagement}>Applications Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowInternManagement}>Intern Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowCandidateManagement}>Candidate Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowProjectsManagement}>Projects Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowNotificationsAndCommunications}>Notifications and
                                Communications</a>
                        </li>


                    </ul>
                </div>
            </div>

            <!-- project management section -->
            <template if:true={showProjectManagement}>

                <lightning-card class="projectshow">


                    <div class="slds-grid slds-wrap slds-gutters slds-grid_align-center">
                        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_x-small">
                            <p><b>Project Name:-</b> AppyIntern</p>
                        </div>
                        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_x-small">
                            <p><b>Duration:-</b> 1 Months</p>
                        </div>
                        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_x-small">
                            <p><b>Start Date:-</b> 25/05/2024</p>
                        </div>
                        <div class="slds-col slds-size_1-of-1 slds-medium-size_1-of-2 slds-p-around_x-small">
                            <p><b>End Date:-</b> 25/06/2024</p>
                        </div>
                        <div class="navbasection">
                            <p><b>Navbar Section:-</b>Home,Registation,Login,Dashboard,HR Dashboard,Update
                                profile,Application Form</p>
                        </div>
                    </div>
                    <!-- </div> -->
                </lightning-card>

            </template>

            <!-- grid 2 -->
            <div class="slds-col slds-large-size_9-of-12 slds-medium-size_8-of-12 slds-size_9-of-12">
                <template if:true={dashboardImage}>
                    <img src={dashboard} alt="Dashboard">
                </template>

                <template if:true={showDashboard}>
                    <p>Dashboard Shown</p>
                </template>
                <template if:false={showDashboard}>

                </template>

                <!-- Internships Listings Button click event -->

                <template if:true={showInternshipsListings}>
                    <div class="listings">
                        <p>All Internships</p>
                    </div>
                    <div class="createNewInternship">
                        <button class="slds-button slds-button_neutral" onclick={newInternship}>Create New</button>

                    </div>
                    <div class="listingsDetails">

                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <div class="slds-checkbox">
                                    <input type="checkbox" name="options" id="checkbox-unique-id-80"
                                        value="checkbox-unique-id-80" checked="" />
                                    <label class="slds-checkbox__label" for="checkbox-unique-id-80 labelheading">
                                        <span class="slds-checkbox_faux"></span>
                                        <span class="slds-form-element__label internshipName">Internship Name</span>
                                        <span>Published/Unpublished</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">
                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">


                                        <div class="slds-tile__detail">

                                            <dl class="slds-list_horizontal slds-wrap">
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Duration:</dt>
                                                <dd class="slds-item_detail slds-truncate  content-value"
                                                    title="Description for first label">
                                                    6 weeks</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Location:</dt>
                                                <dd class="slds-item_detail slds-truncate  content-value"
                                                    title="Description for first label">
                                                    Remote/Office</dd>

                                            </dl>
                                        </div>
                                    </article>
                                </div>
                            </div>

                            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">

                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">

                                        <div class="slds-tile__detail margin-left">
                                            <dl class="slds-list_horizontal slds-wrap">

                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Created On:</dt>
                                                <dd class="slds-item_detail slds-truncate content-value"
                                                    title="Description for first label">
                                                    5/12/2024 3:37 AM</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Deadline:</dt>
                                                <dd class="slds-item_detail slds-truncate content-value"
                                                    title="Description for second label">
                                                    5/14/2024 3:37 AM</dd>

                                            </dl>
                                        </div>
                                    </article>
                                </div>
                            </div>

                            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">
                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">

                                        <div class="slds-tile__detail ">
                                            <dl class="slds-list_horizontal slds-wrap">

                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Stipend</dt>
                                                <dd class="slds-item_detail slds-truncate  content-value"
                                                    title="  for first label">
                                                    Free/Paid</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Experience Level</dt>
                                                <dd class="slds-item_detail slds-truncate content-value"
                                                    title="Description for second label">
                                                    Fresher/Experience</dd>
                                            </dl>
                                        </div>
                                    </article>
                                </div>
                            </div>
                        </div>
                        <div class="internshipButton">

                            <button class="slds-button slds-button_brand onclick={handleButtonClick}">Edit </button>
                            <button
                                class="slds-button slds-button_destructive onclick={handleButtonClick}">Delete</button>
                            <button class="slds-button slds-button_success onclick={handleButtonClick}">Publish
                            </button>
                            <button
                                class="slds-button slds-button_text-destructive onclick={handleButtonClick}">Unpublish
                            </button>
                        </div>
                    </div>






                </template>
                <template if:false={showInternshipsListings}>
                </template>

                <template if:true={showJobPostings}>
                    <p>Job Postings Shown</p>
                </template>
                <template if:false={showJobPostings}>

                </template>
                <!-- 
                Abhishek application management -->
                <template if:true={showApplcationManagement}>
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Graduation year</th>
                                <th>Experience</th>
                                <th>Course</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Utsav</td>
                                <td>Utsav120@gmail.com</td>
                                <td>2024</td>
                                <td>Fresher</td>
                                <td>Btech</td>
                                <td>
                                    <button class="slds-button slds-button_brand"
                                        onclick={viewCandidateApplicationDetails}>View</button>
                                </td>
                            </tr>
                            <tr class="active-row">
                                <td>Anushka</td>
                                <td>anushkatiwari123@gmail.com</td>
                                <td>2024</td>
                                <td>Fresher</td>
                                <td>Btech</td>
                                <td>
                                    <button class="slds-button slds-button_brand"
                                        onclick={viewCandidateApplicationDetails}>View</button>
                                </td>

                            </tr>

                            <tr>
                                <td>Raushan</td>
                                <td>kumarraushan91628@gmail.com</td>
                                <td>2024</td>
                                <td>Fresher</td>
                                <td>BCA</td>
                                <td>
                                    <button class="slds-button slds-button_brand"
                                        onclick={viewCandidateApplicationDetails}>View</button>
                                </td>
                            </tr>


                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>


                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>


                        </tbody>
                    </table>
                </template>
                <template if:false={showApplcationManagement}>

                    <!-- By anushka -->

                </template>

                <template if:true={showInternManagement}>

                    <div class="body" style=" min-height: 100vh;
                    background: url(images/html_table.jpg) center / cover;
                    display: flex;
                    justify-content: center;
                    align-items: center;">
                        <div class="table" style="width: 100%" id="customers_table">
                            <section class="table__header">
                                <h1>Customer's Orders</h1>

                            </section>
                            <section class="table__body">
                                <table>
                                    <thead>
                                        <tr>
                                            <th> Id <span class="icon-arrow">&UpArrow;</span></th>
                                            <th> Candidate <span class="icon-arrow">&UpArrow;</span></th>
                                            <th> Location <span class="icon-arrow">&UpArrow;</span></th>
                                            <th> Program <span class="icon-arrow">&UpArrow;</span></th>
                                            <th> Status <span class="icon-arrow">&UpArrow;</span></th>
                                            <th> Qualification <span class="icon-arrow">&UpArrow;</span></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td> 1 </td>
                                            <td> <img src="" alt="">Utsav</td>
                                            <td> Purnia </td>
                                            <td> AppynTern - Summer Internship 2024 </td>
                                            <td>
                                                <p class="status delivered">Selected</p>
                                            </td>
                                            <td> <strong>Fresher</strong></td>
                                        </tr>
                                        <tr>
                                            <td> 2 </td>
                                            <td><img src="" alt=""> Abhishek </td>
                                            <td> Purnia </td>
                                            <td> AppynTern - Industrial Training 2024 </td>
                                            <td>
                                                <p class="status cancelled">Rejected</p>
                                            </td>
                                            <td> <strong>Undergraduate</strong> </td>
                                        </tr>
                                        <tr>
                                            <td> 3</td>
                                            <td><img src="" alt=""> Ibrar </td>
                                            <td> Katihar </td>
                                            <td> AppynTern - Campus Training 2024</td>
                                            <td>
                                                <p class="status shipped">Pending</p>
                                            </td>
                                            <td> <strong>Fresher</strong> </td>
                                        </tr>

                                    </tbody>
                                </table>
                            </section>
                        </div>
                    </div>




                </template>


                <template if:false={showInternManagement}>


                </template>


                <template if:true={showCandidateManagement}>

                    <div class="heading">
                        <p>All Candidates</p>
                    </div>

                    <!-- table -->
                    <div class="table">
                        <table style="width:100%">
                            <!-- table headings -->
                            <tr class="table-Header">
                                <th>Candidate ID</th>
                                <th>Candidate Name</th>
                                <th>Email ID</th>
                                <th>Phone</th>
                                <th>Action</th>
                            </tr>
                            <!-- table data -->
                            <template for:each={record} for:item="currentItem" for:index="index">
                                <tr key={currentItem.Id}>

                                    <td class="table-data">
                                        <p>{currentItem.Id}</p>
                                    </td>
                                    <td class="table-data">
                                        <p>{currentItem.Name}</p>
                                    </td>
                                    <td class="table-data">
                                        <p>{currentItem.Email__c}</p>
                                    </td>
                                    <td class="table-data">
                                        <p>{currentItem.phone_Number__c}</p>
                                    </td>
                                    <td class="table-data">
                                        <lightning-button variant="brand" label="View"
                                            onclick={handleButtonClick}></lightning-button>
                                    </td>
                                </tr>
                            </template>
                        </table>
                    </div>




                </template>
                <template if:false={showCandidateManagement}>

                </template>
                <template if:true={showProjectManagement}>
                    <p>Project Management shown</p>
                </template>
                <template if:false={showProjectManagement}>

                </template>

                <!-- ABHISHEK HR VIEWS FEEDBACK PAGE -->
                <template if:true={showNotificationsAndCommunicationManagement}>
                    <div style="background-color: white; padding: 10px;">
                        <template if:true={feedbacks}>
                            <lightning-accordion active-section-name="A">
                                <template for:each={feedbacks} for:item="feedback" for:index="index">
                                    <lightning-accordion-section name={feedback.Id} label={feedback.Subject__c}
                                        key={feedback.Id}>
                                        <div style="background-color: rgb(220, 247, 220); margin: 10px; padding: 10px;">
                                            <p><b>Email: </b> {feedback.Email__c}</p>
                                            <p><b>Description: </b> {feedback.Description__c}</p>
                                            <p><b>Screenshot: </b></p>
                                            <img src={feedback.Screenshot__c} alt="Screenshot" />
                                        </div>
                                    </lightning-accordion-section>
                                </template>
                            </lightning-accordion>
                        </template>
                        <template if:true={error}>
                            <div class="slds-text-color_error">
                                <p>{error}</p>
                            </div>
                        </template>
                    </div>

                </template>
                <template if:false={showNotificationsAndCommunicationManagement}>

                </template>

                <!-- ABHISHEK HR VIEWS FEEDBACK PAGE ABOVE  -->

            </div>
        </div>
    </lightning-card>



    <template if:true={NewInternship}>

        <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01"
            class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse">
                    <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                        <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                    </svg>
                    <span class="slds-assistive-text">Cancel and close</span>
                </button>
                <div class="slds-modal__header">
                    <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate" tabindex="-1">Create new
                        Internship Opportunities</h1>
                </div>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

                    <div class="slds-form-element">
                        <label class="slds-form-element__label" for="text-input-id-48">
                            <abbr class="slds-required" title="required">* </abbr>Internship Name</label>
                        <div class="slds-form-element__control">
                            <input type="text" id="text-input-id-48" placeholder="Enter name of Internship" required=""
                                class="slds-input" onchange={internshipNameChange} />
                        </div>
                    </div>

                    <div class="slds-form-element">
                        <label class="slds-form-element__label" for="textarea-id-01">Details</label>
                        <div class="slds-form-element__control">
                            <textarea id="textarea-id-01" placeholder="Write Details for the Internship"
                                class="slds-textarea" onchange={internshipDetailChange}></textarea>
                        </div>
                    </div>
                    <div class="internshipForm">
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">

                                <div class="slds-form-element">
                                    <label class="slds-form-element__label" for="text-input-id-47">
                                        <abbr class="slds-required" title="required">* </abbr>Duration (in
                                        weeks)</label>
                                    <div class="slds-form-element__control">
                                        <input type="text" id="text-input-id-47" placeholder="Enter Internship Duration"
                                            required="" class="slds-input" onchange={internshipDurationChange} />
                                    </div>
                                </div>

                                <div
                                    class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">
                                    <lightning-combobox label="Location" class="selectBox formData" name="location"
                                        value={selectedLocationOption} options={locationOptions}
                                        onchange={internshipLocationChange}>
                                    </lightning-combobox>
                                </div>

                                <div
                                    class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">
                                    <lightning-combobox label="Experience" class="selectBox formData" name="experience"
                                        value={selectedExperienceOption} options={experienceOptions}
                                        onchange={internshipExperienceChange}>
                                    </lightning-combobox>
                                </div>




                                <!-- status published or unpublished  -->

                            </div>
                            <div class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">


                                <!-- Deadline Date field  -->

                                <div class="slds-form-element">
                                    <lightning-input type="date" label="Deadline" name="deadline"
                                        onchange={internshipDeadlineChange}></lightning-input>
                                </div>


                                <div class="slds-form-element">
                                    <label class="slds-form-element__label" for="text-input-id-47">
                                        <abbr class="slds-required" title="required">* </abbr>Stipend</label>
                                    <div class="slds-form-element__control">
                                        <input type="text" id="text-input-id-84" placeholder="Free/Paid"
                                            class="slds-input" onchange={internshipStipendChange} />
                                    </div>
                                </div>

                                
                            </div>
                        </div>

                    </div>
                </div>
                <div class="slds-modal__footer">
                    <button class="slds-button slds-button_outline-brand" onclick={unShowNewInternship}>Back</button>
                    <button class="slds-button slds-button_success" onclick={handleSubmit}>Save</button>

                </div>
            </div>
        </section>
        <!-- <div class="slds-backdrop slds-backdrop_open" role="presentation"></div> -->

    </template>

    <template if:true={CandidateApplicationDetails}>
        <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01"
            class="slds-modal slds-fade-in-open slds-modal_large">
            <div class="slds-modal__container">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse">
                    <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                        <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                    </svg>
                    <span class="slds-assistive-text">Cancel and close</span>
                </button>
                <div class="slds-modal__header">
                    <h1 id="modal-heading-02" class="slds-modal__title slds-hyphenate" tabindex="-1">Applicant Name</h1>
                    <p>Applicant Email</p>
                    <p>Applicant Phone</p>
                </div>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2">

                    <!-- view uploaded documents -->
                    <div class="documents">

                        <div class="downloadResume">
                            <button class="slds-button slds-button_success">⬇️ Resume</button>

                        </div>

                        <div class="downloadResume">
                            <button class="slds-button slds-button_success">⬇️ Documents</button>
                        </div>

                    </div>




                    <div class="applicantDetail">
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-large-size_5-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">

                                        <div class="slds-tile__detail">
                                            <dl class="slds-list_horizontal slds-wrap">

                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Highest Qualification:</dt>
                                                <dd class="slds-item_detail slds-truncate  value"
                                                    title="Description for first label">
                                                    B.tech</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Graduation Year:</dt>
                                                <dd class="slds-item_detail slds-truncate  value"
                                                    title="Description for second label">
                                                    2024</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Experience:</dt>
                                                <dd class="slds-item_detail slds-truncate value"
                                                    title="Description for second label">
                                                    Fresher</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Gender:</dt>
                                                <dd class="slds-item_detail slds-truncate value"
                                                    title="Description for second label">
                                                    Male/Female</dd>

                                            </dl>
                                        </div>
                                    </article>
                                </div>
                            </div>

                            <div class="slds-col slds-large-size_5-of-12 slds-medium-size_4-of-12 slds-size_12-of-12">
                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">

                                        <div class="slds-tile__detail">
                                            <dl class="slds-list_horizontal slds-wrap">
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Applied for:</dt>
                                                <dd class="slds-item_detail slds-truncate value"
                                                    title="Description for first label">
                                                    Winter Training</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Applicaiton Date</dt>
                                                <dd class="slds-item_detail slds-truncate value"
                                                    title="Description for second label">
                                                    5/05/2024</dd>

                                            </dl>
                                        </div>
                                    </article>
                                </div>

                            </div>
                        </div>




                    </div>

                </div>
                <div class="slds-modal__footer">
                    <button class="slds-button slds-button_neutral" aria-label="Cancel and close"
                        onclick={closeCandidateApplicationDetails}>Close</button>
                    <button class="slds-button slds-button_brand">Save</button>
                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>
    </template>

</template>