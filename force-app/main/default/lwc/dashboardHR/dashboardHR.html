<template>

    <lightning-card>
        <div class="header">
            <h1>AppyNtern</h1>
            <span>
                <lightning-input class="Search" type="search" name="Search" placeholder="Search here"
                    id="searchBox"></lightning-input>
            </span>
        </div>
        <!-- grid 1 -->
        <div class="slds-grid slds-wrap">
            <div class="slds-col slds-large-size_3-of-12 slds-medium-size_4-of-12 slds-size_3-of-12">
                <div class="sidebar ">
                    <ul class="Links">
                        <li class="active">
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowDashboard}>Dashboard</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowInternshipListings}>Internships Listings</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowJobPostings}>Job Postings</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowApplicationManagement}>Applications Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowInternManagement}>Intern Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowCandidateManagement}>Candidate Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowProjectsManagement}>Projects Management</a>
                        </li>
                        <li>
                            <img src={icon} alt="dashboard">
                            <a href="#" onclick={handleShowNotificationsAndCommunications}>Notifications and
                                Communications</a>
                        </li>


                    </ul>
                </div>
            </div>

            <!-- grid 2 -->
            <div class="slds-col slds-large-size_9-of-12 slds-medium-size_8-of-12 slds-size_9-of-12">
                <template if:true={dashboardImage}>
                    <img src={dashboard} alt="Dashboard">
                </template>

                <template if:true={showDashboard}>
                    <p>Dashboard Shown</p>
                </template>
                <template if:false={showDashboard}>

                </template>

                <!-- Internships Listings Button click event -->

                <template if:true={showInternshipsListings}>
                    <div class="listings">
                        <p>All Internships</p>
                    </div>
                    <div class="createNewInternship">
                        <button class="slds-button slds-button_neutral" onclick={newInternship}>Create New</button>

                    </div>
                    <div class="listingsDetails">

                        <div class="slds-form-element">
                            <div class="slds-form-element__control">
                                <div class="slds-checkbox">
                                    <input type="checkbox" name="options" id="checkbox-unique-id-80"
                                        value="checkbox-unique-id-80" checked="" />
                                    <label class="slds-checkbox__label" for="checkbox-unique-id-80 labelheading">
                                        <span class="slds-checkbox_faux"></span>
                                        <span class="slds-form-element__label internshipName">Internship Name</span>
                                    </label>
                                </div>
                            </div>
                        </div>

                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">
                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">


                                        <div class="slds-tile__detail">

                                            <dl class="slds-list_horizontal slds-wrap">
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Duration:</dt>
                                                <dd class="slds-item_detail slds-truncate  content-value"
                                                    title="Description for first label">
                                                    6 weeks</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Location:</dt>
                                                <dd class="slds-item_detail slds-truncate  content-value"
                                                    title="Description for first label">
                                                    Remote/Office</dd>

                                            </dl>
                                        </div>
                                    </article>
                                </div>
                            </div>

                            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">

                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">

                                        <div class="slds-tile__detail margin-left">
                                            <dl class="slds-list_horizontal slds-wrap">

                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Created On:</dt>
                                                <dd class="slds-item_detail slds-truncate content-value"
                                                    title="Description for first label">
                                                    5/12/2024 3:37 AM</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Deadline:</dt>
                                                <dd class="slds-item_detail slds-truncate content-value"
                                                    title="Description for second label">
                                                    5/14/2024 3:37 AM</dd>

                                            </dl>
                                        </div>
                                    </article>
                                </div>
                            </div>

                            <div class="slds-col slds-large-size_4-of-12 slds-medium-size_12-of-12 slds-size_12-of-12">
                                <div class="demo-only" style="width:30rem">
                                    <article class="slds-tile">

                                        <div class="slds-tile__detail ">
                                            <dl class="slds-list_horizontal slds-wrap">

                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="First Label">
                                                    Status</dt>
                                                <dd class="slds-item_detail slds-truncate  content-value"
                                                    title="Description for first label">
                                                    Published/Unpublished</dd>
                                                <dt class="slds-item_label slds-text-color_weak slds-truncate head"
                                                    title="Second Label">
                                                    Last Modified Date</dt>
                                                <dd class="slds-item_detail slds-truncate content-value"
                                                    title="Description for second label">
                                                    5/14/2024 3:37 AM</dd>

                                            </dl>
                                        </div>
                                    </article>
                                </div>
                            </div>
                        </div>
                        <div class="internshipButton">
                            //Abhik code for adding event
                            <button class="slds-button slds-button_brand">Edit onclick={handleButtonClick}</button>
                            <button class="slds-button slds-button_destructive">Delete onclick={handleButtonClick}</button>
                            <button class="slds-button slds-button_success">Publish onclick={handleButtonClick}</button>
                            <button class="slds-button slds-button_text-destructive">Unpublish onclick={handleButtonClick}</button>
                        </div>
                    </div>






                </template>
                <template if:false={showInternshipsListings}>
                </template>

                <template if:true={showJobPostings}>
                    <p>Job Postings Shown</p>
                </template>
                <template if:false={showJobPostings}>

                </template>

                <template if:true={showApplcationManagement}>
                    <p>Aplications Management shown</p>
                </template>
                <template if:false={showApplcationManagement}>

                    <!-- By anushka -->

                </template>

                <template if:true={showInternManagement}>

                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Email</th>
                                <th>Graduation year</th>
                                <th>Experience</th>
                                <th>Course</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Utsav</td>
                                <td>Utsav120@gmail.com</td>
                                <td>2024</td>
                                <td>Fresher</td>
                                <td>Btech</td>
                                <td>
                                    <button class="slds-button slds-button_brand">View</button>
                                </td>
                            </tr>
                            <tr class="active-row">
                                <td>Anushka</td>
                                <td>anushkatiwari123@gmail.com</td>
                                <td>2024</td>
                                <td>Fresher</td>
                                <td>Btech</td>
                                <td>
                                    <button class="slds-button slds-button_brand">View</button>
                                </td>

                            </tr>

                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>


                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>


                            <tr>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td></td>
                            </tr>


                        </tbody>
                    </table>

                </template>

                <!-- By anushka -->
                <template if:false={showInternManagement}>

                </template>


                <template if:true={showCandidateManagement}>

                    <div class="heading">
                        <p>All Candidates</p>
                    </div>

                    <!-- table -->
                    <div class="table">
                        <table style="width:100%">
                            <!-- table headings -->
                            <tr class="table-Header">
                                <th>Candidate ID</th>
                                <th>Candidate Name</th>
                                <th>Email ID</th>
                                <th>Phone</th>
                                <th>Action</th>
                            </tr>
                            <!-- table data -->
                            <template for:each={record} for:item="currentItem" for:index="index">
                                <tr key={currentItem.Id}>

                                    <td class="table-data">
                                        <p>{currentItem.Id}</p>
                                    </td>
                                    <td class="table-data">
                                        <p>{currentItem.Name}</p>
                                    </td>
                                    <td class="table-data">
                                        <p>{currentItem.Email__c}</p>
                                    </td>
                                    <td class="table-data">
                                        <p>{currentItem.phone_Number__c}</p>
                                    </td>
                                    <td class="table-data">
                                        <lightning-button variant="brand" label="View"
                                            onclick={handleButtonClick}></lightning-button>
                                    </td>
                                </tr>
                            </template>
                        </table>
                    </div>




                </template>
                <template if:false={showCandidateManagement}>

                </template>
                <template if:true={showProjectManagement}>
                    <p>Project Management shown</p>
                </template>
                <template if:false={showProjectManagement}>

                </template>

                <!-- ABHISHEK HR VIEWS FEEDBACK PAGE -->
                <template if:true={showNotificationsAndCommunicationManagement}>
                    <div style="background-color: white; padding: 10px;">
                        <template if:true={feedbacks}>
                            <lightning-accordion active-section-name="A">
                                <template for:each={feedbacks} for:item="feedback" for:index="index">
                                    <lightning-accordion-section name={feedback.Id} label={feedback.Subject__c}
                                        key={feedback.Id}>
                                        <div style="background-color: rgb(220, 247, 220); margin: 10px; padding: 10px;">
                                            <p><b>Email: </b> {feedback.Email__c}</p>
                                            <p><b>Description: </b> {feedback.Description__c}</p>
                                            <p><b>Screenshot: </b></p>
                                            <img src={feedback.Screenshot__c} alt="Screenshot" />
                                        </div>
                                    </lightning-accordion-section>
                                </template>
                            </lightning-accordion>
                        </template>
                        <template if:true={error}>
                            <div class="slds-text-color_error">
                                <p>{error}</p>
                            </div>
                        </template>
                    </div>

                </template>
                <template if:false={showNotificationsAndCommunicationManagement}>

                </template>

                <!-- ABHISHEK HR VIEWS FEEDBACK PAGE ABOVE  -->

            </div>
        </div>
    </lightning-card>



    <template if:true={NewInternship}>

        <section role="dialog" tabindex="-1" aria-modal="true" aria-labelledby="modal-heading-01"
            class="slds-modal slds-fade-in-open">
            <div class="slds-modal__container">
                <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse">
                    <svg class="slds-button__icon slds-button__icon_large" aria-hidden="true">
                        <use xlink:href="/assets/icons/utility-sprite/svg/symbols.svg#close"></use>
                    </svg>
                    <span class="slds-assistive-text">Cancel and close</span>
                </button>
                <div class="slds-modal__header">
                    <h1 id="modal-heading-01" class="slds-modal__title slds-hyphenate" tabindex="-1">Create new
                        Internship Opportunities</h1>
                </div>
                <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">

                    <div class="slds-form-element">
                        <label class="slds-form-element__label" for="text-input-id-48">
                            <abbr class="slds-required" title="required">* </abbr>Internship Name</label>
                        <div class="slds-form-element__control">
                            <input type="text" id="text-input-id-48" placeholder="Enter name of Internship" required=""
                                class="slds-input" />
                        </div>
                    </div>

                    <div class="slds-form-element">
                        <label class="slds-form-element__label" for="textarea-id-01">Details</label>
                        <div class="slds-form-element__control">
                            <textarea id="textarea-id-01" placeholder="Write Details for the Internship"
                                class="slds-textarea"></textarea>
                        </div>
                    </div>
                    <div class="internshipForm">
                        <div class="slds-grid slds-wrap">
                            <div class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">

                                <div class="slds-form-element">
                                    <label class="slds-form-element__label" for="text-input-id-47">
                                        <abbr class="slds-required" title="required">* </abbr>Duration</label>
                                    <div class="slds-form-element__control">
                                        <input type="text" id="text-input-id-47" placeholder="Enter Internship Duration"
                                            required="" class="slds-input" />
                                    </div>
                                </div>

                                <div class="slds-form-element">
                                    <label class="slds-form-element__label" for="text-input-id-47">
                                        <abbr class="slds-required" title="required">* </abbr>Location</label>
                                    <div class="slds-form-element__control">
                                        <input type="text" id="text-input-id-80" placeholder="Remote/Office"
                                            class="slds-input" />
                                    </div>
                                </div>

                                <!-- status published or unpublished  -->

                            </div>
                            <div class="slds-col slds-large-size_6-of-12 slds-medium-size_6-of-12 slds-size_12-of-12">


                                <!-- Deadline Date field  -->




                                <div class="slds-form-element">
                                    <lightning-input type="date" label="Select a Date" name="dateField"
                                        onchange={handleDateChange}></lightning-input>
                                </div>


                                <div class="slds-form-element">
                                    <label class="slds-form-element__label" for="text-input-id-47">
                                        <abbr class="slds-required" title="required">* </abbr>Stipend</label>
                                    <div class="slds-form-element__control">
                                        <input type="text" id="text-input-id-84" placeholder="Free/Paid"
                                            class="slds-input" />
                                    </div>
                                </div>


                            </div>
                        </div>

                    </div>
                </div>
                <div class="slds-modal__footer">
                    <button class="slds-button slds-button_outline-brand" onclick={unShowNewInternship}>Back</button>
                    <button class="slds-button slds-button_success" onclick={handleSubmit}>Submit</button>

                </div>
            </div>
        </section>
        <div class="slds-backdrop slds-backdrop_open" role="presentation"></div>

    </template>

</template>